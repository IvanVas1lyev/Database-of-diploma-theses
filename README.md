# База данных дипломных работ МГУ

Веб-приложение для хранения и поиска дипломных работ студентов кафедры математической статистики и случайных процессов МГУ имени М.В. Ломоносова.

## Особенности системы

- **Файловая система хранения**: Все данные хранятся в структурированных файлах, что обеспечивает прозрачность и версионность
- **Git-based workflow**: Студенты добавляют свои работы через Pull Request'ы
- **Безопасное выполнение кода**: Возможность запуска Python кода студентов в изолированной среде
- **Поиск и фильтрация**: Полнотекстовый поиск по работам, фильтрация по годам
- **Русскоязычный интерфейс**: Полная локализация для российских пользователей

## Архитектура

### Backend (FastAPI)
- **Файловый сервис**: Чтение данных из структурированных JSON файлов
- **API endpoints**: RESTful API для получения данных и выполнения кода
- **Безопасное выполнение**: Изолированная среда для запуска Python кода

### Frontend (React + TypeScript)
- **Современный интерфейс**: Responsive дизайн с Tailwind CSS
- **Поиск и навигация**: Интуитивный поиск и фильтрация
- **Выполнение кода**: Интерактивный редактор для тестирования кода студентов

### Структура данных

```
data/
├── 2023/
│   ├── ivanov_ivan/
│   │   ├── info.json          # Информация о студенте и работе
│   │   ├── thesis.pdf         # Диплом (опционально)
│   │   └── code/              # Код (опционально)
│   │       ├── main.py
│   │       └── requirements.txt
│   └── petrova_anna/
│       └── info.json
├── 2024/
│   └── sidorov_dmitry/
│       ├── info.json
│       └── code/
│           └── sde_simulation.py
└── 2025/
    └── ...
```

## Быстрый старт

### Требования
- Docker и Docker Compose
- Git

### Запуск

1. **Клонирование репозитория**
```bash
git clone <repository-url>
cd thesis-database
```

2. **Запуск с Docker Compose**
```bash
docker-compose up --build
```

3. **Доступ к приложению**
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API документация: http://localhost:8000/docs

### Разработка

1. **Backend (FastAPI)**
```bash
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload
```

2. **Frontend (React)**
```bash
cd frontend
npm install
npm start
```

## Добавление новых работ

### Для студентов

1. **Форк репозитория**
2. **Создание структуры данных**
   ```
   data/{год_выпуска}/{фамилия_имя}/
   ├── info.json
   ├── thesis.pdf (опционально)
   └── code/ (опционально)
       ├── main.py
       └── requirements.txt
   ```

3. **Заполнение info.json**
   ```json
   {
     "name": "Фамилия Имя Отчество",
     "email": "email@student.msu.ru",
     "graduation_year": 2024,
     "thesis": {
       "title": "Название дипломной работы",
       "summary": "Краткое описание...",
       "advisor": "Научный руководитель",
       "keywords": ["ключевое слово 1", "ключевое слово 2"],
       "defense_date": "2024-06-15"
     },
     "code": {
       "has_code": true,
       "main_file": "main.py",
       "description": "Описание кода"
     }
   }
   ```

4. **Создание Pull Request**

### Для администраторов

- Проверка PR на соответствие структуре
- Валидация данных
- Merge в основную ветку

## API Endpoints

### Студенты
- `GET /api/v1/students` - Список всех студентов
- `GET /api/v1/students?year=2023` - Студенты определенного года
- `GET /api/v1/students?search=машинное обучение` - Поиск
- `GET /api/v1/students/{student_id}` - Информация о студенте

### Выполнение кода
- `POST /api/v1/students/{student_id}/execute` - Выполнение кода
- `GET /api/v1/students/{student_id}/code` - Информация о коде
- `GET /api/v1/students/{student_id}/code/{filename}` - Содержимое файла

### Утилиты
- `GET /api/v1/years` - Доступные годы
- `GET /api/v1/statistics` - Статистика
- `GET /api/v1/health` - Проверка работоспособности

## Безопасность

- **Изолированное выполнение**: Python код выполняется в ограниченной среде
- **Валидация входных данных**: Проверка всех пользовательских данных
- **Только чтение**: API не позволяет изменять данные через веб-интерфейс
- **Git workflow**: Все изменения проходят через процесс review

## Технологии

### Backend
- **FastAPI**: Современный Python веб-фреймворк
- **Pydantic**: Валидация данных
- **Uvicorn**: ASGI сервер

### Frontend
- **React 18**: Современная библиотека для UI
- **TypeScript**: Типизированный JavaScript
- **Tailwind CSS**: Utility-first CSS фреймворк
- **Axios**: HTTP клиент

### DevOps
- **Docker**: Контейнеризация
- **Docker Compose**: Оркестрация сервисов
- **Git**: Система контроля версий

## Лицензия

MIT License

## Контакты

Кафедра математической статистики и случайных процессов  
Московский государственный университет имени М.В. Ломоносова
